---
- name: python batch job automation
  hosts: localhost
  gather_facts: false

  tasks:
    - name: Install specified python requirements
      ansible.builtin.pip:
        name:
          - requests

    - name: Print Python Version
      command: python -V

    - name: Executing batch job
      command: python batchjob1.py > batchjob1.txt

    - name: Verify the saved output
      ansible.builtin.shell: cat batchjob1.txt
